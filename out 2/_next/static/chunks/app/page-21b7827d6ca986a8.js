(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{418:function(e,t,n){Promise.resolve().then(n.bind(n,8836))},8836:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(4090),c=n(1886),i=n(8777);function l(){let[e,t]=(0,r.useState)(!1),[n,l]=(0,r.useState)(null),[o,u]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[f,h]=(0,r.useState)([]),[m,d]=(0,r.useState)(null),[g,_]=(0,r.useState)(""),[y,k]=(0,r.useState)(""),[p,I]=(0,r.useState)(!0),[w,E]=(0,r.useState)(null),[S,b]=(0,r.useState)(null),[J,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{v(!0),b(new Date);let e=setInterval(()=>{b(new Date)},1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{M()},[]);let M=async()=>{try{I(!0);let e=(0,c.WU)(new Date,"yyyy-MM-dd"),n=await (0,i.Av)(e);if(h(n),n.length>0){let e=n[n.length-1];e&&e.check_in&&!e.check_out?(t(!0),l(new Date(e.check_in))):t(!1)}else t(!1);E(null)}catch(e){console.error("Error loading records:",e),E("기록을 불러오는 중 오류가 발생했습니다.")}finally{I(!1)}}}},8777:function(e,t,n){"use strict";n.d(t,{lp:function(){return i},eh:function(){return u},F8:function(){return s},Av:function(){return c},se:function(){return l},Dg:function(){return o}});let r=(0,n(3549).eI)("https://ijsggnmyblatollrvkhf.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlqc2dnbm15YmxhdG9sbHJ2a2hmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxOTk4NjMsImV4cCI6MjA2NDc3NTg2M30.K0y7U_XEuXJQRx_PZ_uFJy62Wal3bM4OT2eVM6mdHHQ");async function c(e){let{data:t,error:n}=await r.from("time_entries").select("*").eq("date",e).order("check_in",{ascending:!0});return n?(console.error("Error fetching time entries:",n),[]):t}async function i(e,t){let{data:n,error:c}=await r.from("time_entries").insert([{date:e,check_in:t,check_out:null,working_hours:null}]).select();return c?(console.error("Error creating check-in entry:",c),null):n[0]}async function l(e,t,n){let{data:c,error:i}=await r.from("time_entries").update({check_out:t,working_hours:n}).eq("id",e).select();return i?(console.error("Error updating check-out entry:",i),null):c[0]}async function o(e,t,n,c,i){let l={check_in:t,check_out:n,working_hours:c};i&&(l.date=i);let{data:o,error:u}=await r.from("time_entries").update(l).eq("id",e).select();return u?(console.error("Error updating time entry:",u),null):o[0]}async function u(e){let{error:t}=await r.from("time_entries").delete().eq("id",e);return!t||(console.error("Error deleting time entry:",t),!1)}async function s(){console.log("getAllTimeEntries 함수 호출됨"),console.log("Supabase URL:","https://ijsggnmyblatollrvkhf.supabase.co"),console.log("Supabase Key 설정 여부:",!0);try{let{data:e,error:t}=await r.from("time_entries").select("*").order("date",{ascending:!1});if(t)return console.error("Error fetching all time entries:",t),[];return console.log("가져온 데이터 수:",e?e.length:0),e||[]}catch(e){return console.error("Exception in getAllTimeEntries:",e),[]}}}},function(e){e.O(0,[389,971,69,744],function(){return e(e.s=418)}),_N_E=e.O()}]);